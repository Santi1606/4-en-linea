#include <random>
#include <iostream>
#include <fstream>
#include <string>
#include <cstdlib>
#include <iostream>
#include <cstring>
#include <random>

#include "Archivo.h"
#include "Juego.h"
#include "Sistema.h"
#include "Usuario.h"



using namespace std; 

    
void Juego::crear_matriz(){
    int columnas[7]={0,1,2,3,4,5,6};
    for(int i =0;i<6;i++){
        for(int j =0;j<7;j++){
            numeros[i][j]=0;
        }    
    }

    for(int i =0;i<7;i++){
        cout<<columnas[i]<<"\t";
    }
    cout<<"\n"; 
    cout<<"\n";
    cout<<"\n";

    for(int i =0;i<6;i++){
        for(int j =0;j<7;j++){
            cout<<numeros[i][j]<<"\t";

        }
        cout<<"\n"; 
        cout<<"\n";   
    }
};

void Juego::jugador_carga_ficha(int jugador,int colu){
    cout<<"JUGADOR"<<endl;
    int x;
    if(modo_de_juego == 2){
        if(jugador%2==0){
            x=1;
        }
        else{
            x=2;
        }
    }
    else{
        x = 1;
    }
    int fila=0;
    int columnas[7]={0,1,2,3,4,5,6};
    for(int j =0;j<7;j++){
        if(j==colu){
            while(numeros[fila][j]==0 && fila<6){
                fila++;
            }
            numeros[fila-1][j]=x;
        }  
    }  
    for(int i =0;i<7;i++){
        cout<<columnas[i]<<"\t";
    }
    cout<<"\n"; 
    cout<<"\n";
    cout<<"\n";
    
    
    
    for(int i =0;i<6;i++){
        for(int j =0;j<7;j++){
            cout<<numeros[i][j]<<"\t";
        }
        cout<<"\n";
        cout<<"\n";   
    }
};



bool Juego::hay_jugada_ganadora(){
    int vector_J[]={0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,0,1,2,3,0,1,2,3,0,1,2,3,1,2,3,4,2,3,4,5,1,2,3,4,2,3,4,5,3,4,5,6,2,3,4,5,3,4,5,6,3,4,5,6,6,5,4,3,6,5,4,3,5,4,3,2,6,5,4,3,5,4,3,2,4,3,2,1,5,4,3,2,4,3,2,1,3,2,1,0,4,3,2,1,3,2,1,0,3,2,1,0};

    int vector_I[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,2,3,4,5,1,2,3,4,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,0,1,2,3,2,3,4,5,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,0,1,2,3};
    
    for(int i = 0; i < 259; i = i + 4){
      if(numeros[vector_I[i]][vector_J[i]] == numeros[vector_I[i+1]][vector_J[i+1]] && numeros[vector_I[i]][vector_J[i]] == numeros[vector_I[i+2]][vector_J[i+2]] && numeros[vector_I[i]][vector_J[i]] == numeros[vector_I[i+3]][vector_J[i+3]] && numeros[vector_I[i]][vector_J[i]] != 0){
            return true;
        }
    }
    return false;
}


void Juego::sistema_carga_ficha(){
    cout<<"SISTEMA"<<endl;
    int vector_J[]={0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,1,2,3,1,2,3,4,2,3,4,5,3,4,5,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,0,1,2,3,0,1,2,3,0,1,2,3,1,2,3,4,2,3,4,5,1,2,3,4,2,3,4,5,3,4,5,6,2,3,4,5,3,4,5,6,3,4,5,6,6,5,4,3,6,5,4,3,5,4,3,2,6,5,4,3,5,4,3,2,4,3,2,1,5,4,3,2,4,3,2,1,3,2,1,0,4,3,2,1,3,2,1,0,3,2,1,0};

    int vector_I[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,2,3,4,5,1,2,3,4,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,0,1,2,3,2,3,4,5,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,2,3,4,5,0,1,2,3,1,2,3,4,0,1,2,3};
    for(int i = 0; i<258;i=i +2){
        if(numeros[vector_I[i]][vector_J[i]] == numeros[vector_I[i+1]][vector_J[i+1]] && numeros[vector_I[i]][vector_J[i]] == numeros[vector_I[i+2]][vector_J[i+2]] && numeros[vector_I[i]][vector_J[i]] != 0){
            numeros[vector_I[i+3]][vector_J[i+3]]=2;
        }   
    }


    for(int i = 0; i<258;i=i +2){
        if(numeros[vector_I[i]][vector_J[i]] == numeros[vector_I[i+1]][vector_J[i+1]] && numeros[vector_I[i]][vector_J[i]] != 0){
            numeros[vector_I[i+2]][vector_J[i+2]]=2;
        }   
    }

    colu=rand()%6;
    int fila=0;
    for(int j =0;j<7;j++){
        if(j==colu){
            while(numeros[fila][j]==0 && fila<6){
                fila++;
            }
            numeros[fila-1][j]=2;
        }  
    }


    for(int i =0;i<6;i++){
        for(int j =0;j<7;j++){
            cout<<numeros[i][j]<<"\t";
        }
        cout<<"\n";
        cout<<"\n";   
    }
}